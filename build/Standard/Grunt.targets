<?xml version="1.0" encoding="utf-8"?>

<!--
Version: 2.0.0
Updated: 2016-02-15
ABSType: Simple

This targets file contains standard build scripts for building projects.

-->

<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="4.0">

	<Target Name="GRUNT" DependsOnTargets="Boot" >
		<!--
			To Do's:	
				2015-04-01: GS - Fix issue with TeamCity path not working correctly with NPM/Grunt.
		-->
		<PropertyGroup>
			<ErrorCode>0</ErrorCode>
			<NODEJSPath>C:\Program Files (x86)\nodejs\</NODEJSPath>
			<GruntPath>$(APPDATA)\npm</GruntPath>
		</PropertyGroup>

		<Exec Command="npm config get prefix">
			<Output PropertyName="GruntPath" TaskParameter="ConsoleOutput" />
		</Exec>
		
		<SetEnvVariable Name="Path" 
						Value="$(Path);$(NODEJSPath);$(GruntPath)" />
			<Exec Command="Set Path"/>
		
		<Exec 
			Command="GRUNT $(GruntAction)" 
			Condition="'$(GruntAction)' != ''">
		</Exec>		
	</Target>

</Project>